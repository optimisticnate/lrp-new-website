// ============================================================================
// LAKE RIDE PROS - PAYLOAD CMS CUSTOM STYLES
// ============================================================================
// This file fixes inconsistent color usage in Payload admin panel
// AND applies Lake Ride Pros brand colors throughout
//
// LRP BRAND COLORS:
// Primary Green: #4cbb17 (bright kelly green)
// Light Green:   #60e421
// Dark Green:    #3a8e11
// Black:         #060606
// White:         #ffffff
// Gray:          #e6e6e6
// ============================================================================

@import '~@payloadcms/ui/scss';

@layer payload {
  // ==========================================================================
  // LRP BRAND COLOR VARIABLES
  // ==========================================================================
  
  :root {
    // LRP Brand Colors
    --lrp-green: #4cbb17;        // Primary brand green
    --lrp-green-light: #60e421;  // Light accent
    --lrp-green-dark: #3a8e11;   // Dark shade
    --lrp-black: #060606;        // Brand black
    --lrp-white: #ffffff;        // Brand white
    --lrp-gray: #e6e6e6;         // Brand gray
    
    // Use LRP green for focus instead of generic blue
    --focus-color: var(--lrp-green);
  }
  
  // ==========================================================================
  // 1. FIX FOCUS STATES - Use LRP Brand Green
  // ==========================================================================
  
  input:focus,
  textarea:focus,
  select:focus,
  button:focus-visible,
  .input:focus {
    outline: 0;
    box-shadow: 0 0 0 2px var(--lrp-green);
    border-color: var(--lrp-green);
  }
  
  // ==========================================================================
  // 2. FIX VALIDATION ERROR STATES - Keep Red for Errors
  // ==========================================================================
  // Invalid fields MUST use red (--color-error-*), not green
  
  .field--error,
  .field[data-error='true'],
  .render-fields > .field.error {
    input,
    textarea,
    select,
    .input {
      border-color: var(--color-error-500);
      background-color: var(--color-error-50);
      
      &:focus {
        box-shadow: 0 0 0 2px var(--color-error-500);
        border-color: var(--color-error-600);
      }
    }
    
    .field-label,
    .label {
      color: var(--color-error-600);
    }
  }
  
  .field-error,
  .field-error-message {
    color: var(--color-error-600);
    background-color: var(--color-error-50);
    border-color: var(--color-error-300);
  }
  
  // ==========================================================================
  // 3. FIX MODAL DESTRUCTIVE ACTIONS - Red for Delete, Not Green
  // ==========================================================================
  
  .btn--style-danger,
  [data-style='danger'],
  .popup__button-group .btn--style-primary[aria-label*='confirm'],
  .popup__button-group .btn--style-primary:last-child {
    --color: white;
    --bg-color: var(--color-error-500);
    --hover-bg: var(--color-error-600);
    --box-shadow: none;
    
    background-color: var(--bg-color);
    color: var(--color);
    border: none;
    
    &:hover {
      background-color: var(--hover-bg);
      color: white;
    }
  }
  
  .popup__button-group .btn--style-secondary,
  .popup__button-group .btn:first-child {
    --color: var(--theme-text);
    --bg-color: transparent;
    --box-shadow: inset 0 0 0 1px var(--theme-elevation-400);
    --hover-color: var(--theme-text);
    --hover-box-shadow: inset 0 0 0 1px var(--theme-elevation-600);
  }
  
  // ==========================================================================
  // 4. SUCCESS/PRIMARY ACTIONS - Use LRP Brand Green
  // ==========================================================================
  
  // Primary action buttons (Save, Create, etc.) should use LRP green
  .btn--style-primary:not([data-style='danger']) {
    --bg-color: var(--lrp-green);
    --hover-bg: var(--lrp-green-dark);
    --color: white;
    
    &:hover {
      --bg-color: var(--lrp-green-dark);
    }
  }
  
  // ==========================================================================
  // 5. FIX TOAST NOTIFICATIONS - LRP Green for Success
  // ==========================================================================
  
  .Toastify__toast--success,
  .toast--success {
    background-color: var(--theme-elevation-50);
    border: 1px solid var(--theme-elevation-200);
    border-left: 4px solid var(--lrp-green);
    color: var(--theme-text);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  .Toastify__toast--error,
  .toast--error {
    background-color: var(--color-error-50);
    border: 1px solid var(--color-error-200);
    border-left: 4px solid var(--color-error-500);
    color: var(--theme-text);
  }
  
  .Toastify__toast--warning,
  .toast--warning {
    background-color: var(--color-warning-50);
    border: 1px solid var(--color-warning-200);
    border-left: 4px solid var(--color-warning-500);
    color: var(--theme-text);
  }
  
  // ==========================================================================
  // 6. CHECKBOX/SELECTION STATES - LRP Brand Green
  // ==========================================================================
  
  input[type='checkbox']:checked,
  .checkbox input:checked {
    background-color: var(--lrp-green);
    border-color: var(--lrp-green-dark);
    
    &:focus {
      box-shadow: 0 0 0 2px var(--lrp-green);
    }
  }
  
  .row--selected,
  .table__row--selected,
  tr[aria-selected='true'] {
    background-color: rgba(76, 187, 23, 0.08); // LRP green tint
  }
  
  .collection__list-item--selected,
  .list-item[aria-selected='true'] {
    background-color: rgba(76, 187, 23, 0.05);
    border-color: var(--lrp-green);
  }
  
  // ==========================================================================
  // 7. ENSURE VALID FIELDS REMAIN NEUTRAL
  // ==========================================================================
  
  .field:not(.field--error):not([data-error='true']) {
    input:not(:focus),
    textarea:not(:focus),
    select:not(:focus) {
      border-color: var(--theme-elevation-150);
      background-color: var(--theme-input-bg);
    }
  }
  
  // ==========================================================================
  // 8. LRP BRAND ACCENTS & HIGHLIGHTS
  // ==========================================================================
  
  // Active nav items, highlights, etc. should use LRP green
  .nav__item--active,
  .step--active,
  .list-controls__button--active {
    color: var(--lrp-green);
    border-color: var(--lrp-green);
  }
  
  // Links should use LRP green
  a:not(.btn) {
    color: var(--lrp-green);
    
    &:hover {
      color: var(--lrp-green-dark);
    }
  }
  
  // Progress indicators, loading states
  .progress-bar,
  .loader {
    background-color: var(--lrp-green);
  }
}

// ============================================================================
// DARK MODE (Payload handles automatically via CSS variables)
// ============================================================================

@media (prefers-color-scheme: dark) {
  @layer payload {
    // LRP green works well in dark mode
    // May need slight adjustments for contrast
    :root {
      // Optionally lighten green slightly for dark mode
      --lrp-green: #60e421; // Use lighter shade in dark mode
    }
  }
}
