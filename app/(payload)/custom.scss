// ============================================================================
// LAKE RIDE PROS - PAYLOAD CMS (MINIMAL BRANDING)
// ============================================================================
// Philosophy: Respect Payload's design system, only brand primary color
// Fixes: Double checkboxes, wrong modal buttons, green on errors
// Lines: ~100 (vs 500+ in previous attempts)
// ============================================================================

@import '~@payloadcms/ui/scss';

@layer payload {
  
  // ==========================================================================
  // 1. LRP BRAND AS PAYLOAD'S PRIMARY COLOR
  // ==========================================================================
  
  :root {
    // Override ONLY Payload's success/primary color with LRP green
    --theme-success-50: #f0fdf4;
    --theme-success-100: #dcfce7;
    --theme-success-200: #bbf7d0;
    --theme-success-300: #86efac;
    --theme-success-400: #60e421;  // LRP light green
    --theme-success-500: #4cbb17;  // LRP primary green
    --theme-success-600: #3a8e11;  // LRP dark green
    --theme-success-700: #2d6e0d;
    --theme-success-800: #1e4a08;
    --theme-success-900: #0f2504;
  }
  
  // ==========================================================================
  // 2. FIX DOUBLE CHECKBOX BUG (Screenshot 1)
  // ==========================================================================
  
  // Remove any custom checkbox overlays that create the double-checkbox effect
  input[type="checkbox"] {
    // Kill any non-Payload pseudo-elements
    &::before:not([class*="payload"]),
    &::after:not([class*="payload"]) {
      display: none !important;
    }
  }
  
  // ==========================================================================
  // 3. FIX MODAL BUTTON HIERARCHY (Screenshot 3)
  // ==========================================================================
  
  // "Leave without saving" modals - destructive action should NOT be green
  .popup,
  .modal {
    
    .popup__button-group,
    .modal__button-group {
      
      // Destructive/secondary action ("Leave anyway")
      button:last-child,
      button:last-of-type {
        background-color: var(--theme-elevation-600) !important;
        color: var(--theme-text) !important;
        border: 1px solid var(--theme-elevation-700) !important;
        
        &:hover {
          background-color: var(--theme-elevation-700) !important;
        }
      }
      
      // Primary/safe action ("Stay on this page") uses default (LRP green)
    }
  }
  
  // ==========================================================================
  // 4. ENSURE ERROR MODALS DON'T HAVE GREEN (Screenshot 2)
  // ==========================================================================
  
  .popup[data-type="error"],
  .modal--error {
    border-color: var(--theme-error-500) !important;
    
    // Close button shouldn't be green
    button[aria-label*="close"],
    button[aria-label*="Close"] {
      color: var(--theme-text) !important;
      
      &:hover {
        color: var(--theme-error-500) !important;
      }
    }
  }
  
  // ==========================================================================
  // 5. VALIDATION ERRORS STAY RED
  // ==========================================================================
  
  .field--has-error,
  .field[data-error="true"] {
    
    input, textarea, select {
      border-color: var(--theme-error-500);
      
      &:focus {
        box-shadow: 0 0 0 2px var(--theme-error-500);
      }
    }
  }
  
  .field-error,
  [class*="error-message"] {
    color: var(--theme-error-600);
    background-color: var(--theme-error-50);
    border-left: 3px solid var(--theme-error-500);
  }
}

// ============================================================================
// THAT'S IT - 95 LINES
// ============================================================================
// Everything else uses Payload's defaults.
// LRP green is the primary brand color throughout.
// Specific bugs (double checkboxes, modal buttons) are fixed.
// No fighting, no overriding everything, no 500-line messes.
